// Generated by purs version 0.11.5
"use strict";
var Control_Applicative = require("../Control.Applicative");
var Control_Bind = require("../Control.Bind");
var Control_Monad_Eff = require("../Control.Monad.Eff");
var DOM = require("../DOM");
var DOM_Event_EventTarget = require("../DOM.Event.EventTarget");
var DOM_Event_Types = require("../DOM.Event.Types");
var DOM_HTML_Location = require("../DOM.HTML.Location");
var DOM_HTML_Types = require("../DOM.HTML.Types");
var DOM_HTML_Window = require("../DOM.HTML.Window");
var Data_Semigroup = require("../Data.Semigroup");
var Prelude = require("../Prelude");
var Signal = require("../Signal");
var Signal_Channel = require("../Signal.Channel");
var sampleURL = function (win) {
    return function __do() {
        var v = DOM_HTML_Window.location(win)();
        var v1 = DOM_HTML_Location.pathname(v)();
        var v2 = DOM_HTML_Location.search(v)();
        var v3 = Signal_Channel.channel(v1 + v2)();
        var listener = DOM_Event_EventTarget.eventListener(function (ev) {
            return function __do() {
                var v4 = DOM_HTML_Location.pathname(v)();
                return Signal_Channel.send(v3)(v4)();
            };
        });
        DOM_Event_EventTarget.addEventListener("popstate")(listener)(false)(DOM_HTML_Types.windowToEventTarget(win))();
        return Signal_Channel.subscribe(v3);
    };
};
module.exports = {
    sampleURL: sampleURL
};
